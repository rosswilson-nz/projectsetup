# This file defines the targets in the project analysis plan

# Common prefixes, for easy reference to different targets:
#
# file_: Input files
# raw_: Raw data frames imported from input files
# dta_: Cleaned data frames
# res_: Analysis results (regression, etc.)
# msc_: Miscellaneous objects not included elsewhere
# tbl_: Table (as saved `.typ` file, in `output/_tables/`)
# plt_: Plots (as R objects, e.g. `ggplot`)
# fig_: Saved figures (as files, usually `.svg`, in `output/_figures/`)
# rpt_: Output reports (as files, usually with `render_manuscript()`)

# Simple skeleton outline of analysis plan - revise as required
targets <- rlang::list2(
  ## Example targets, for reference only ---------------------------------------
  # tar_file(file_data, "raw_data/data.csv"),
  # tar_target(raw_data, read_raw_data(file_data)),
  # tar_target(dta_cleaned, process_data(raw_data)),
  # tar_target(res_primary.analysis, analyse_data(dta_cleaned)),
  # tar_file(tbl_primary.results, create_table(res_primary.analysis)),
  # tar_target(plt_primary.results, create_plot(res_primary.analysis)),
  # tar_file(fig_primary.results, save_plot(plt_primary.results, "my-plot")),
  # tar_file(file_json, export_json(list(primary_result = extract_result(res_primary.analysis)))),
  # tar_file(
  #   rpt_manuscript,
  #   render_manuscript(
  #     "reports/manuscript.typ",
  #     list(file_json, file_appendix),
  #     fig = list(primary = fig_primary.results),
  #     tbl = list(primary = tbl_primary.results)
  #   )
  # ),
  # tar_file(file_appendix, c("reports/appendix.typ", "reports/_templates/appendix.typ")),
  ## END targets list ----------------------------------------------------------
)
